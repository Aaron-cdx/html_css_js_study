# CSS3 学习

> CSS3 学习,直面恐惧,战胜自己！2021-11-28 深圳

## CSS 简介

网页分为三个部分：

- 结构(HTML)
- 表现(CSS)
- 行为(JavaScript)

层叠样式表: 网页实际上是一个多层的结构，可以通过 CSS 分别为网页的每一层设置样式，而最终我们能看到的只是网页的最上边的一层。

CSS 是用来设置网页中元素中的样式

内联样式，行内样式，在标签内通过 style 属性来设置元素的样式。
使用内联样式只能对一个标签生效，如果希望影响到多个元素，必须在每一个元素中都复制一遍。并且当样式发生变化时，我们必须要一个一个的修改，非常的不方便。**注意在开发中绝对不要使用内联样式！**

```html
<p style="color: red; font-size: 20px;">我们是新时代共产主义接班人！</p>
```

内部样式: 将样式写在 header 中的 style 标签中，然后通过 css 的选择器来选中元素并为其设置各种样式，可以同时为多个标签设置样式，并且修改时只需要修改移除即可。

内部样式表只能对一个网页起作用，但里面的样式不能够跨页面复用。

```html
<style>
  p {
    color: red;
    font-size: 60px;
  }
</style>
```

外部样式表，用一个 css 文件，然后在网页中通过 link 来引用当前 css 文件，即可生效。意味着需要使用当前样式的网页都可以对其进行引用，使样式可以在不通过的页面之间进行复用操作。将样式编写到外部的 CSS 文件中，可以使用浏览器的缓存机制，从而加快网页的加载速度，提高用户的体验。

```html
<link rel="stylesheet" href="./01_css.css" />
```

## CSS 基本语法

CSS 基本语法，CSS 的基本语法包括选择器和声明块。

- 选择器: 通过选择器可以选中页面中的指定元素，比如 p 元素，可以选择中页面中所有的 p 标签元素
- 声明块: 通过声明块来指定需要为元素设置的样式。声明块由一个一个的声明组成，声明是一个键值对结构，一个样式名对应一个样式值，名和值之间以:连接，以;结尾。

## 常用选择器

- 元素选择器: 根据标签名来选中指定的元素
  > 语法: 标签名{} 例如: p{}/h1{}
- id 选择器: 根据 id 属性值选定指定的元素
  > 语法: #id 属性值{}, 例如: #box{}/#red{}
- 类选择器: 根据 class 来选择一组元素，可以同时对一个元素指定多个 class 名称(使用空格隔开即可)
  > 语法: .class 属性值
- 通配选择器: 选择页面中的所有元素
  > 语法: \*

## 复合选择器

- 交集选择器: 选中同时复合多个条件的元素
  > 语法: 选择器 1 选择器 2 选择器 3 选择器 n{},注意交集选择器中如果有元素选择，必须使用元素选择器开头。
- 并集选择器: 同时选择多个选择器对应的元素
  > 语法: 选择器 1,选择器 2,选择器 3,...,选择器 n{}

## 关系选择器

- 父元素: 直接包含子元素的元素叫做父元素
- 子元素: 直接被父元素包含的元素是子元素
- 祖先元素: 直接或间接包含后代的元素叫做祖先元素
- 后代元素: 直接或间接被祖先元素包含的元素叫做后代元素
- 兄弟元素: 拥有相同父元素的元素叫做兄弟元素

* 子元素选择器: 选中指定元素的指定子元素
  > 语法: 父元素 \> 子元素

```css
div > span {
  color: green;
}
```

- 后代元素选择器: 选中指定元素内的指定后代元素
  > 语法: 祖先 后代

```css
div span {
  color: red;
}
```

- 兄弟选择器: 选择下一个兄弟选择器
  > 语法: 前一个+下一个; 如果是选择下边所有的元素: 前一个 ~ 下一个

```css
p + span {
  color: blue;
}

p ~ span {
  color: orange;
}
```

## 属性选择器

属性选择器旨在选择标签内属性
语法:

> \[属性名\] 选择含有属性的元素
> \[属性名=属性值\] 选择含有指定属性和属性值的元素
> \[属性名^=属性值\] 选择属性值以指定值开头的元素
> \[属性名$=属性值\] 选择属性值以指定值结尾的元素
> \[属性名\*=属性值\] 选择属性值中含有某值的元素的元素

## 伪类选择器

伪类: 不存在的类，特殊的类，比如第一个子元素、被点击的元素、鼠标移入的元素。

伪类一般情况下使用`:`开头

- `:first-child`: 表示第一个子元素
- `:last-child`: 表示最后一个子元素
- `:nth-child(1)`: 表示选中第 n 个子元素,如果直接写 n 的话，则会选中所有的子元素，2n 表示选中偶数位置的元素(even 也可)，2n+1 表示奇数位元素(odd 也可)

以上的伪类都是根据所有的子元素进行排序的。

- `:first-of-type`
- `:last-of-type`
- `:nth-of-type`
  这些伪类的功能和上述的类似，只是这些是在类型元素中进行排序

* `:not()`: 否定伪类，将符合条件的元素从选择器中去除

## 超链接的伪类

- 没有访问过的状态
- 访问过的链接状态

`:link`: 用来表示没有访问过的链接(正常的链接)

`:visited`: 用来表示访问过的链接

因为隐私的原因，所以 visited 的伪类只能修改链接的颜色。

`:hover`: 表示鼠标移入的状态

`:active`: 用来表示鼠标点击

```html
<style>
  a:link {
    color: brown;
  }
  a:visited {
    color: aqua;
  }
  a:hover {
    font-size: 40px;
    color: greenyellow;
  }
  a:active {
    font-size: large;
    color: blueviolet;
  }
</style>
```

## 伪元素选择器

伪元素: 表示页面中一些特殊的并不真实存在的元素(特殊的位置),伪元素使用`::`开头。

`::first-letter`: 表示第一个字母

`::first-line`: 表示第一行

`::selection`: 表示选中的内容

`::before`: 表示元素的开始

`::after`: 表示元素的最后

before 和 after 必须结合 content 属性来使用，而且 before 和 after 在开发中使用比较频繁。

```css
p::first-letter {
  font-size: larger;
}
p::selection {
  background-color: greenyellow;
}
span::before {
  content: "(";
}
span::after {
  content: ")";
}
```

## 继承
样式的继承，为一个元素设置样式的同时也会应用到它的后代元素上。继承是发生在祖先与后代之间的。

继承的设计是为了方便我们的开发，利用继承我们可以将一些通用的样式统一设置到共同的祖先元素上，这样我们只需要设置一次即可让所有的元素都具有该样式。

注: 并不是所有的样式都会被继承，比如背景相关的、布局相关等这些样式都不会被继承。

没有设置背景色的话，默认的背景色是transparent(透明)。

文档中元素是否会被继承的话，有一个字段`inherited`会表示是否可以继承。


## 选择器的权重
样式的冲突，当我们使用不同的选择器，选中相同的元素，并且为相同的样式设置不同的值的时候，就会发生样式的冲突。

发生样式冲突的时候，应该使用哪个样式由选择器的权重(优先级)决定。

选择器的权重
* 内联样式 1000
* id选择器 100
* 类和伪类选择器 10
* 元素选择器 1
* 通配选择器 0
* 继承的样式 无优先级

比较优先级的时候，需要将所有的选择器的优先级进行相加计算，最后优先级越高，则越优先显示。(分组选择器是单独计算的, `div,p,span{}`)，选择器的累加不会超过其最大的数量级，类选择器再高也不会超过id选择器(**相加是不可以跨数量级**)。

如果优先级计算后相等，则优先使用靠下的样式。

可以在某一个样式后边添加`!important`，此时此样式会获取到最高的优先级，甚至超过内联样式，但注意，在开发中，important需要慎用，js无法操作。

## 单位
长度单位
* 像素: 屏幕(显示器)实际上是由一个一个的小点构成的。不同的屏幕像素大小是不同的，像素越大的屏幕显示的效果越清晰，所以同样的200px在不同的设备下显示效果是不一样的。
* 百分比: 百分比可以设置属性相对父元素的属性的百分比，设置百分比可以使子元素跟随父元素的改变而改变。
* em: 相对于元素的字体大小来计算的。1em = 1font-size, em会跟随字体大小的改变而变化。
* rem: rem是相对于根元素的字体大小来计算的。

## 颜色单位
颜色单位，在css中可以直接使用颜色名字来设置各种颜色，比如: red/orange/yellow/blue/green，但直接使用颜色名字非常不方便。

主要使用颜色的方式是采用RGB值，主要是通过三种颜色的不同浓度来调配处不同的颜色。R red/G green/B blue。每一种颜色的范围在0~255之间(0%~100%之间)

用法: RGB(红色,绿色,蓝色)

RGBA值，最后一个值表示透明度，1表示完全不透明，0表示完全透明，5表示半透明。

十六进制RGB值，语法: #红色绿色蓝色，颜色浓度通过00-ff，如果颜色两位重复，可以简写，例如: #aabbcc => #abc

HSL值，HSLA值
* H表示色相: 取值大小0-360
* S表示饱和度: 表示颜色浓度，取值大小0-100%
* L表示亮度: 表示颜色亮度，取值大小0-100%