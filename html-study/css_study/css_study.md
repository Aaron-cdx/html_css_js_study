# CSS3 学习

> CSS3 学习,直面恐惧,战胜自己！2021-11-28 深圳

## CSS 简介

网页分为三个部分：

- 结构(HTML)
- 表现(CSS)
- 行为(JavaScript)

层叠样式表: 网页实际上是一个多层的结构，可以通过 CSS 分别为网页的每一层设置样式，而最终我们能看到的只是网页的最上边的一层。

CSS 是用来设置网页中元素中的样式

内联样式，行内样式，在标签内通过 style 属性来设置元素的样式。
使用内联样式只能对一个标签生效，如果希望影响到多个元素，必须在每一个元素中都复制一遍。并且当样式发生变化时，我们必须要一个一个的修改，非常的不方便。**注意在开发中绝对不要使用内联样式！**

```html
<p style="color: red; font-size: 20px;">我们是新时代共产主义接班人！</p>
```

内部样式: 将样式写在 header 中的 style 标签中，然后通过 css 的选择器来选中元素并为其设置各种样式，可以同时为多个标签设置样式，并且修改时只需要修改移除即可。

内部样式表只能对一个网页起作用，但里面的样式不能够跨页面复用。

```html
<style>
  p {
    color: red;
    font-size: 60px;
  }
</style>
```

外部样式表，用一个 css 文件，然后在网页中通过 link 来引用当前 css 文件，即可生效。意味着需要使用当前样式的网页都可以对其进行引用，使样式可以在不通过的页面之间进行复用操作。将样式编写到外部的 CSS 文件中，可以使用浏览器的缓存机制，从而加快网页的加载速度，提高用户的体验。

```html
<link rel="stylesheet" href="./01_css.css" />
```

## CSS 基本语法

CSS 基本语法，CSS 的基本语法包括选择器和声明块。

- 选择器: 通过选择器可以选中页面中的指定元素，比如 p 元素，可以选择中页面中所有的 p 标签元素
- 声明块: 通过声明块来指定需要为元素设置的样式。声明块由一个一个的声明组成，声明是一个键值对结构，一个样式名对应一个样式值，名和值之间以:连接，以;结尾。

## 常用选择器

- 元素选择器: 根据标签名来选中指定的元素
  > 语法: 标签名{} 例如: p{}/h1{}
- id 选择器: 根据 id 属性值选定指定的元素
  > 语法: #id 属性值{}, 例如: #box{}/#red{}
- 类选择器: 根据 class 来选择一组元素，可以同时对一个元素指定多个 class 名称(使用空格隔开即可)
  > 语法: .class 属性值
- 通配选择器: 选择页面中的所有元素
  > 语法: \*

## 复合选择器

- 交集选择器: 选中同时复合多个条件的元素
  > 语法: 选择器 1 选择器 2 选择器 3 选择器 n{},注意交集选择器中如果有元素选择，必须使用元素选择器开头。
- 并集选择器: 同时选择多个选择器对应的元素
  > 语法: 选择器 1,选择器 2,选择器 3,...,选择器 n{}

## 关系选择器

- 父元素: 直接包含子元素的元素叫做父元素
- 子元素: 直接被父元素包含的元素是子元素
- 祖先元素: 直接或间接包含后代的元素叫做祖先元素
- 后代元素: 直接或间接被祖先元素包含的元素叫做后代元素
- 兄弟元素: 拥有相同父元素的元素叫做兄弟元素

* 子元素选择器: 选中指定元素的指定子元素
  > 语法: 父元素 \> 子元素

```css
div > span {
  color: green;
}
```

- 后代元素选择器: 选中指定元素内的指定后代元素
  > 语法: 祖先 后代

```css
div span {
  color: red;
}
```

- 兄弟选择器: 选择下一个兄弟选择器
  > 语法: 前一个+下一个; 如果是选择下边所有的元素: 前一个 ~ 下一个

```css
p + span {
  color: blue;
}

p ~ span {
  color: orange;
}
```

## 属性选择器

属性选择器旨在选择标签内属性
语法:

> \[属性名\] 选择含有属性的元素
> \[属性名=属性值\] 选择含有指定属性和属性值的元素
> \[属性名^=属性值\] 选择属性值以指定值开头的元素
> \[属性名$=属性值\] 选择属性值以指定值结尾的元素
> \[属性名\*=属性值\] 选择属性值中含有某值的元素的元素

## 伪类选择器

伪类: 不存在的类，特殊的类，比如第一个子元素、被点击的元素、鼠标移入的元素。

伪类一般情况下使用`:`开头

- `:first-child`: 表示第一个子元素
- `:last-child`: 表示最后一个子元素
- `:nth-child(1)`: 表示选中第 n 个子元素,如果直接写 n 的话，则会选中所有的子元素，2n 表示选中偶数位置的元素(even 也可)，2n+1 表示奇数位元素(odd 也可)

以上的伪类都是根据所有的子元素进行排序的。

- `:first-of-type`
- `:last-of-type`
- `:nth-of-type`
  这些伪类的功能和上述的类似，只是这些是在类型元素中进行排序

* `:not()`: 否定伪类，将符合条件的元素从选择器中去除

## 超链接的伪类

- 没有访问过的状态
- 访问过的链接状态

`:link`: 用来表示没有访问过的链接(正常的链接)

`:visited`: 用来表示访问过的链接

因为隐私的原因，所以 visited 的伪类只能修改链接的颜色。

`:hover`: 表示鼠标移入的状态

`:active`: 用来表示鼠标点击

```html
<style>
  a:link {
    color: brown;
  }
  a:visited {
    color: aqua;
  }
  a:hover {
    font-size: 40px;
    color: greenyellow;
  }
  a:active {
    font-size: large;
    color: blueviolet;
  }
</style>
```

## 伪元素选择器

伪元素: 表示页面中一些特殊的并不真实存在的元素(特殊的位置),伪元素使用`::`开头。

`::first-letter`: 表示第一个字母

`::first-line`: 表示第一行

`::selection`: 表示选中的内容

`::before`: 表示元素的开始

`::after`: 表示元素的最后

before 和 after 必须结合 content 属性来使用，而且 before 和 after 在开发中使用比较频繁。

```css
p::first-letter {
  font-size: larger;
}
p::selection {
  background-color: greenyellow;
}
span::before {
  content: "(";
}
span::after {
  content: ")";
}
```

## 继承

样式的继承，为一个元素设置样式的同时也会应用到它的后代元素上。继承是发生在祖先与后代之间的。

继承的设计是为了方便我们的开发，利用继承我们可以将一些通用的样式统一设置到共同的祖先元素上，这样我们只需要设置一次即可让所有的元素都具有该样式。

注: 并不是所有的样式都会被继承，比如背景相关的、布局相关等这些样式都不会被继承。

没有设置背景色的话，默认的背景色是 transparent(透明)。

文档中元素是否会被继承的话，有一个字段`inherited`会表示是否可以继承。

## 选择器的权重

样式的冲突，当我们使用不同的选择器，选中相同的元素，并且为相同的样式设置不同的值的时候，就会发生样式的冲突。

发生样式冲突的时候，应该使用哪个样式由选择器的权重(优先级)决定。

选择器的权重

- 内联样式 1000
- id 选择器 100
- 类和伪类选择器 10
- 元素选择器 1
- 通配选择器 0
- 继承的样式 无优先级

比较优先级的时候，需要将所有的选择器的优先级进行相加计算，最后优先级越高，则越优先显示。(分组选择器是单独计算的, `div,p,span{}`)，选择器的累加不会超过其最大的数量级，类选择器再高也不会超过 id 选择器(**相加是不可以跨数量级**)。

如果优先级计算后相等，则优先使用靠下的样式。

可以在某一个样式后边添加`!important`，此时此样式会获取到最高的优先级，甚至超过内联样式，但注意，在开发中，important 需要慎用，js 无法操作。

## 单位

长度单位

- 像素: 屏幕(显示器)实际上是由一个一个的小点构成的。不同的屏幕像素大小是不同的，像素越大的屏幕显示的效果越清晰，所以同样的 200px 在不同的设备下显示效果是不一样的。
- 百分比: 百分比可以设置属性相对父元素的属性的百分比，设置百分比可以使子元素跟随父元素的改变而改变。
- em: 相对于元素的字体大小来计算的。1em = 1font-size, em 会跟随字体大小的改变而变化。
- rem: rem 是相对于根元素的字体大小来计算的。

## 颜色单位

颜色单位，在 css 中可以直接使用颜色名字来设置各种颜色，比如: red/orange/yellow/blue/green，但直接使用颜色名字非常不方便。

主要使用颜色的方式是采用 RGB 值，主要是通过三种颜色的不同浓度来调配处不同的颜色。R red/G green/B blue。每一种颜色的范围在 0~255 之间(0%~100%之间)

用法: RGB(红色,绿色,蓝色)

RGBA 值，最后一个值表示透明度，1 表示完全不透明，0 表示完全透明，5 表示半透明。

十六进制 RGB 值，语法: #红色绿色蓝色，颜色浓度通过 00-ff，如果颜色两位重复，可以简写，例如: #aabbcc => #abc

HSL 值，HSLA 值

- H 表示色相: 取值大小 0-360
- S 表示饱和度: 表示颜色浓度，取值大小 0-100%
- L 表示亮度: 表示颜色亮度，取值大小 0-100%

## 布局(layout)-文档流

文档流(normal flow)
网页是一个多层的结构，一层累着一层，通过 CSS 可以为每一层来设置样式，作为用户来讲只能看到最顶上一层。这些曾中，最底下的一层是文档流，文档流是网页的基础，我们所创建的元素默认都是在文档流中进行排列。

对于我们来说，元素主要有两个状态

- 在文档流中
- 不在文档流(脱离文档流)

元素在文档流中的特点:

- 块元素(例如 div)
  - 块元素会在页面中独占一行
  - 默认宽度是父元素的全部(会把父元素撑满)
  - 默认高度是被内容撑开(子元素)
- 行内元素(例如 span)
  - 行内元素不会在页面中独占一行，只占自身的大小
  - 行内元素在页面中自左向右水平排列，如果一行之中不能容纳下所有的行内元素，则元素会换到第二行继续自左向右排列
  - 行内元素的默认高度和高度都是被内容撑开的(即样式可以改变具体的大小)

## 盒子模型

盒模型、盒子模型、框模型(box model)

CSS 将页面中的所有元素都设置为了一个矩形的盒子。将元素设置为矩形的盒子后，对页面的布局就变成了对不同的盒子摆放到不同的位置。

每一个盒子都由以下几个部分组成：

- 内容区(content)
- 内边距(padding)
- 边框(border)
- 外边距(margin)

width 和 height 是设置内容区的大小，元素中的所有的资源苏和文本内容都在内容区中排列，内容区的大小由 width 和 height 两个属性来设置。

边框 border，边框属于盒子边缘，边框里边属于盒子内部，除了边框都是盒子的外部，边框的大小也会影响到整个盒子的大小，要设置边框，至少需要设置三个样式：

- 边框的宽度: border-width
- 边框的颜色: border-color
- 边框的样式: borders-style

```css
.box1 {
  width: 200px;
  height: 200px;
  background-color: #bfa;
  /* border设置三要素，border-width/border-color/border-style */
  /* 
    border-width有默认值，一般是3个像素 
    border-width可以用来指定四个方向的边框的宽度，
      四个值: 上右下左
      三个值: 上 左右 下
      两个值: 上下 左右
      一个值: 上下左右
    border-width还可以使用border-xxx-width，xxx值表示top/right/bottom/left,可以实现精准指定各个方向的边框宽度
  */
  border-width: 20px;
  /* border-color也可以四个方向使用颜色，与width的方向一致，border-color可以省略不写，如果省略了则自动使用color的颜色值 */
  border-color: black;
  /* 
    border-style指定边框的样式 
    solid: 表示实线
    dotted: 点状虚线
    double: 双线
  */
  border-style: solid;
  /* 
    border简写属性，通过该属性可以同时设置边框所有相关样式，并且没有顺序要求
    除了border以外还有四个border-xxx
    border-top
    border-right
    border-bottom
    border-left
  */
}
```

### 盒子模型-内边距
内边距(padding)，内容区和边框之间的距离是内边距，一共有四个方向的内边距。
* padding-top
* padding-right
* padding-bottom
* padding-left

内边距的设置会影响到盒子的大小，背景颜色会延升到内边距上。

盒子的可见框的大小，由内容区、内边距和边框共同决定。所以在计算盒子大小的时候，需要将这三个区域加到一起进行计算。

padding的内边距也可以实现简写属性，可以同时指定四个方向的内边距。规则和border-width一样。

### 盒子模型-外边距
外边距(margin)，外边距不会影响到盒子可见框的大小，但是外边距会影响盒子的位置，一共有四个方向的外边距：
* margin-top: 上外边距，设置一个正值，盒子会向下移动
* margin-right: 右边距，设置正值，盒子会向左移动
* margin-bottom: 
* margin-left: 左外边距，设置一个正值，盒子会向右移动

元素在页面中是按照自左向右的顺序排列的，所以默认情况下如果我们设置的左和上外边距则会移动元素自身而设置下和右外边距则会移动其他元素。

margin的接卸属性，可以设置四个方向的外边距，用法与padding相同。

margin会影响到盒子实际的占用空间

### 盒子模型-水平方向的元素布局
元素在水平方向的布局，元素在其父元素中水平方向的位置由一下几个属性共同决定:
* margin-left
* border-left
* padding-left
* width
* padding-right
* border-right
* margin-right

margin-left+border-left+padding-left+width+padding-right+border-right+margin-right = 其父元素内容区的宽度(必须满足)

如果等式不满足，则称为过渡约束，则等式会自动调整，调整的情况，如果这七个值中没有auto的情况，**则浏览器会自动调整margin-right值使得等式满足**。

这七个值中有三个值可以设置为auto
* width
* margin-left
* margin-right

如果某个值设置为auto，则会自动调整为auto的那个值以使等式成立。

